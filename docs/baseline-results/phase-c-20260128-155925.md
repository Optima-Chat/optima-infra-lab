# 环节 C 基线测试结果

**测试时间**: 2026-01-28 15:59:25

## 测试方法

1. 暂停 Warm Pool 自动补充 (min_size=0)
2. 清空 Warm Pool 中的实例
3. 增加 ASG Desired Capacity 触发冷启动
4. 测量从扩容请求到 InService 的时间

## 环境信息

| 项目 | 值 |
|------|---|
| 实例类型 | t3.small |
| AMI | ECS Optimized AL2023 |
| EBS | gp3, 30GB, 3000 IOPS |
| 区域 | ap-southeast-1 |

## 测试结果

| 阶段 | 耗时 |
|------|------|
| ASG 扩容请求 → 新实例 InService | **81s** |

### 时间分解（估算）

| 子阶段 | 预估耗时 | 说明 |
|--------|---------|------|
| C1 EC2 pending → running | ~20-30s | 实例启动 |
| C2 状态检查通过 | ~30-40s | 健康检查 |
| C3 User Data 执行 | ~5-10s | ECS 配置 |
| C6 ECS Agent 注册 | ~5-10s | 连接集群 |
| **总计** | **~81s** | 实测 |

## 对比

| 场景 | 时间 |
|------|------|
| **冷启动** | **81s** |
| Warm Pool (Hibernated) | 17s |
| Warm Pool (Stopped) | ~22s (之前测试) |

## 结论

- 冷启动时间 **81 秒**，比预估的 2-5 分钟快很多
- 主要时间花在 EC2 启动和健康检查
- 通过 Warm Pool 可以节省 **64 秒**（81s → 17s）
- 优化空间：Golden AMI、禁用不必要的 cloud-init 模块
